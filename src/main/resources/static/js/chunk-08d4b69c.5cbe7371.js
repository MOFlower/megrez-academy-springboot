(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08d4b69c"],{"113b":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-lx-cascades"}),e._v("user admin")])],1)],1),s("div",{staticClass:"handle-box"},[s("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"username "},model:{value:e.selectUsername,callback:function(t){e.selectUsername=t},expression:"selectUsername"}}),s("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("search")]),s("el-button",{attrs:{type:"danger",icon:"el-icon-close"},on:{click:e.cancelSearch}},[e._v("cancel filter")])],1),s("div",{staticClass:"container"},[s("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.users,border:"",stripe:!0}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{prop:"id",label:"user id",width:"150"}}),s("el-table-column",{attrs:{prop:"username",label:"username",width:"150"}}),s("el-table-column",{attrs:{prop:"phone",label:"phone number",width:"120"}}),s("el-table-column",{attrs:{prop:"email",label:"e-mail",width:"200"}}),s("el-table-column",{attrs:{prop:"address",label:"address",width:"400"}}),s("el-table-column",{attrs:{prop:"firstName",label:"first name",width:"200"}}),s("el-table-column",{attrs:{prop:"lastName",label:"last name",width:"200"}}),s("el-table-column",{attrs:{prop:"createTime",label:"register date",width:"300"}}),s("el-table-column",{attrs:{prop:"status",label:"user status",width:"100",fixed:"right",filters:[{text:"activated",value:"1"},{text:"blackList",value:"2"}],"filter-method":e.filterStatus,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-tag",{attrs:{type:e.tagType(t),"disable-transitions":""}},[e._v(e._s(e.slotContent(t))+"\n                    ")])]}}])}),s("el-table-column",{attrs:{label:"Operation",width:"180",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return e.getUser(t.row.id)}}},[e._v("edit")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:"3"!==t.row.status,expression:"scope.row.status !== '3'"}],staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(s){return e.deleteUser(t.row.id)}}},[e._v("delete\n                    ")])]}}])})],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3},on:{"current-change":function(e){}}})],1)],1),s("el-dialog",{attrs:{title:"edit",visible:e.editVisible,width:"50%"},on:{"update:visible":function(t){e.editVisible=t}}},[s("el-form",{ref:"editUser",attrs:{model:e.editUser,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"user id",prop:"id"}},[s("el-input",{attrs:{disabled:""},model:{value:e.editUser.id,callback:function(t){e.$set(e.editUser,"id",t)},expression:"editUser.id"}})],1),s("el-form-item",{attrs:{label:"username",prop:"username"}},[s("el-input",{attrs:{disabled:""},model:{value:e.editUser.username,callback:function(t){e.$set(e.editUser,"username",t)},expression:"editUser.username"}})],1),s("el-form-item",{attrs:{label:"first name",prop:"firstName"}},[s("el-input",{model:{value:e.editUser.firstName,callback:function(t){e.$set(e.editUser,"firstName",t)},expression:"editUser.firstName"}})],1),s("el-form-item",{attrs:{label:"last name",prop:"lastName"}},[s("el-input",{model:{value:e.editUser.lastName,callback:function(t){e.$set(e.editUser,"lastName",t)},expression:"editUser.lastName"}})],1),s("el-form-item",{attrs:{label:"phone number",prop:"phone"}},[s("el-input",{model:{value:e.editUser.phone,callback:function(t){e.$set(e.editUser,"phone",t)},expression:"editUser.phone"}})],1),s("el-form-item",{attrs:{label:"address",prop:"address"}},[s("el-input",{model:{value:e.editUser.address,callback:function(t){e.$set(e.editUser,"address",t)},expression:"editUser.address"}})],1),s("el-form-item",{attrs:{label:"status",prop:"address"}},[s("el-select",{attrs:{placeholder:"status"},model:{value:e.editUser.status,callback:function(t){e.$set(e.editUser,"status",t)},expression:"editUser.status"}},[s("el-option",{key:"1",attrs:{label:"activated",value:"1"}}),s("el-option",{key:"2",attrs:{label:"blackList",value:"2"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.cancelEdit}},[e._v("Cancel")]),s("el-button",{attrs:{type:"primary"},on:{click:e.updateUser}},[e._v("Save")])],1)],1)],1)},r=[],i={name:"userAdmin",data:function(){return{selectUsername:"",users:[],usersTemp:[],editVisible:!1,editUser:{id:"",username:"",phone:"",email:"",address:"",firstName:"",lastName:"",prerequisite:"",status:""}}},created:function(){this.getData()},computed:{},methods:{getData:function(){var e=this;this.$axios({method:"get",url:"/api/users"}).then((function(t){e.users=t.data,e.usersTemp=t.data})).catch((function(t){e.$message.error("data load failed")}))},getUser:function(e){var t=this;return this.editVisible=!0,this.$axios({method:"get",url:"/api/user/"+e}).then((function(e){t.editUser=e.data})).catch((function(e){t.$message.error("system error, pleases try later")}))},updateUser:function(){var e=this;this.$axios({method:"put",url:"/api/user",data:this.editUser}).then((function(t){e.$message.success(t.msg),e.getData(),e.getUser(e.editUser.id)})).catch((function(t){e.$message.error("system error, pleases try later")}))},search:function(){var e=this;this.users=this.usersTemp,""!==this.selectUsername&&(this.users=this.users.filter((function(t){return t.username===e.selectUsername})))},cancelSearch:function(){this.users=this.usersTemp,this.selectUsername=""},change:function(){this.$forceUpdate()},filterStatus:function(e,t){return t.status===e},slotContent:function(e){return"1"===e.row.status?"activated":"2"===e.row.status?"blackList":"missing"},tagType:function(e){return"1"===e.row.status?"success":"2"===e.row.status?"danger":"warning"},deleteUser:function(e){var t=this;this.$confirm("This operation will permanently delete the file, do you want to continue?","Notification",{confirmButtonText:"confirm",cancelButtonText:"cancel",type:"warning"}).then((function(){t.$axios({method:"delete",url:"/api/user/"+e}).then((function(e){t.$message.success(e.msg),t.getData()})).catch((function(e){}))})).catch((function(){t.$message({type:"info",message:"already canceled delete"})}))},cancelEdit:function(){this.editVisible=!1},openAddPage:function(){this.resetForm("editUser"),this.addCourseVisible=!0},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))}}},l=i,n=(s("80ef"),s("2877")),o=Object(n["a"])(l,a,r,!1,null,"6b688ba1",null);t["default"]=o.exports},"3cf1":function(e,t,s){},"80ef":function(e,t,s){"use strict";var a=s("3cf1"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-08d4b69c.5cbe7371.js.map