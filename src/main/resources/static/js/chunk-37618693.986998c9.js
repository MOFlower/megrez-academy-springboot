(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37618693"],{"956f":function(t,e,s){},bea6:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table"},[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-lx-cascades"}),t._v("Courses Admin")])],1)],1),s("div",{staticClass:"handle-box"},[s("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"instructor first name"},model:{value:t.selectFirstName,callback:function(e){t.selectFirstName=e},expression:"selectFirstName"}}),s("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.search}},[t._v("search")]),s("el-button",{attrs:{type:"danger",icon:"el-icon-close"},on:{click:t.cancelSearch}},[t._v("cancel filter")]),s("el-button",{attrs:{type:"success",icon:"el-icon-plus"},on:{click:t.openAddPage}},[t._v("add new course")])],1),s("div",{staticClass:"container"},[s("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.instructors,border:"",stripe:!0,fit:!0}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{prop:"id",label:"instructor id",width:"350"}}),s("el-table-column",{attrs:{prop:"firstName",label:"first name",width:"200"}}),s("el-table-column",{attrs:{prop:"lastName",label:"last name",width:"200"}}),s("el-table-column",{attrs:{prop:"phone",label:"phone number",width:"200"}}),s("el-table-column",{attrs:{prop:"email",label:"e-mail address",width:"200"}}),s("el-table-column",{attrs:{prop:"status",label:"status",width:"200",filters:[{text:"current",value:"1"},{text:"deactivated",value:"2"},{text:"missing",value:"3"}],"filter-method":t.filterStatus,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-tag",{attrs:{type:t.tagType(e),"disable-transitions":""}},[t._v(t._s(t.slotContent(e))+"\n                    ")])]}}])}),s("el-table-column",{attrs:{label:"Operation",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.getInstructor(e.row.id)}}},[t._v("edit")]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.row.status,expression:"scope.row.status !== '3'"}],staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(s){return t.deleteInstructor(e.row.id)}}},[t._v("delete\n                    ")])]}}])})],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3},on:{"current-change":function(t){}}})],1)],1),s("el-dialog",{attrs:{title:"edit instructor",visible:t.editVisible,width:"50%"},on:{"update:visible":function(e){t.editVisible=e}}},[s("el-form",{ref:"editInstructor",attrs:{model:t.editInstructor,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"course id",prop:"id"}},[s("el-input",{attrs:{disabled:""},model:{value:t.editInstructor.id,callback:function(e){t.$set(t.editInstructor,"id",e)},expression:"editInstructor.id"}})],1),s("el-form-item",{attrs:{label:"first name",prop:"firstName"}},[s("el-input",{model:{value:t.editInstructor.firstName,callback:function(e){t.$set(t.editInstructor,"firstName",e)},expression:"editInstructor.firstName"}})],1),s("el-form-item",{attrs:{label:"last name",prop:"lastName"}},[s("el-input",{model:{value:t.editInstructor.lastName,callback:function(e){t.$set(t.editInstructor,"lastName",e)},expression:"editInstructor.lastName"}})],1),s("el-form-item",{attrs:{label:"phone number",prop:"phone"}},[s("el-input",{model:{value:t.editInstructor.phone,callback:function(e){t.$set(t.editInstructor,"phone",e)},expression:"editInstructor.phone"}})],1),s("el-form-item",{attrs:{label:"e-mail address",prop:"email"}},[s("el-input",{model:{value:t.editInstructor.email,callback:function(e){t.$set(t.editInstructor,"email",e)},expression:"editInstructor.email"}})],1),s("el-form-item",{attrs:{label:"status",prop:"status"}},[s("el-select",{attrs:{placeholder:"status"},model:{value:t.editInstructor.status,callback:function(e){t.$set(t.editInstructor,"status",e)},expression:"editInstructor.status"}},[s("el-option",{key:"1",attrs:{label:"activated",value:"1"}}),s("el-option",{key:"2",attrs:{label:"inactivated",value:"2"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancelEdit}},[t._v("Cancel")]),s("el-button",{attrs:{type:"primary"},on:{click:t.updateInstructor}},[t._v("Save")])],1)],1),s("el-dialog",{attrs:{title:"add a new instructor",visible:t.addInstructorVisible,width:"50%"},on:{"update:visible":function(e){t.addInstructorVisible=e}}},[s("el-form",{ref:"addInstructor",attrs:{model:t.editInstructor,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"first name",prop:"firstName"}},[s("el-input",{model:{value:t.editInstructor.firstName,callback:function(e){t.$set(t.editInstructor,"firstName",e)},expression:"editInstructor.firstName"}})],1),s("el-form-item",{attrs:{label:"last name",prop:"lastName"}},[s("el-input",{model:{value:t.editInstructor.lastName,callback:function(e){t.$set(t.editInstructor,"lastName",e)},expression:"editInstructor.lastName"}})],1),s("el-form-item",{attrs:{label:"phone number",prop:"phone"}},[s("el-input",{model:{value:t.editInstructor.phone,callback:function(e){t.$set(t.editInstructor,"phone",e)},expression:"editInstructor.phone"}})],1),s("el-form-item",{attrs:{label:"email address",prop:"email"}},[s("el-input",{model:{value:t.editInstructor.email,callback:function(e){t.$set(t.editInstructor,"email",e)},expression:"editInstructor.email"}})],1),s("el-form-item",{attrs:{label:"status",prop:"status"}},[s("el-select",{attrs:{placeholder:"status"},model:{value:t.editInstructor.status,callback:function(e){t.$set(t.editInstructor,"status",e)},expression:"editInstructor.status"}},[s("el-option",{key:"1",attrs:{label:"activated",value:"1"}}),s("el-option",{key:"2",attrs:{label:"inactivated",value:"2"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancelAdd}},[t._v("Cancel")]),s("el-button",{attrs:{type:"primary"},on:{click:t.addInstructor}},[t._v("add")])],1)],1)],1)},r=[],i={name:"coursesAdmin",data:function(){return{instructors:[],tempInstructors:[],editInstructor:{id:"",firstName:"",lastName:"",phone:"",email:"",status:""},selectFirstName:"",addInstructorVisible:!1,editVisible:!1}},created:function(){this.getData()},computed:{},methods:{getData:function(){var t=this;this.$axios({method:"get",url:"/api/professors"}).then((function(e){t.instructors=e.data,t.tempInstructors=e.data})).catch((function(e){t.$message.error("data load failed")}))},getInstructor:function(t){var e=this;this.$axios({method:"get",url:"/api/professor/"+t}).then((function(t){e.editInstructor=t.data,e.editVisible=!0,console.log(t.data)})).catch((function(t){e.$message.error("system error, pleases try later")}))},updateInstructor:function(){var t=this;this.$axios({method:"put",url:"/api/professor",data:this.editInstructor}).then((function(e){t.getData(),t.getInstructor(t.editInstructor.id),t.$message.success(e.msg)})).catch((function(e){t.$message.error(e)}))},search:function(){var t=this;this.instructors=this.tempInstructors,""!==this.selectFirstName&&(this.instructors=this.instructors.filter((function(e){return-1!==e.firstName.indexOf(t.selectFirstName)})))},cancelSearch:function(){this.instructors=this.tempInstructors,this.selectFirstName=""},filterStatus:function(t,e){return e.status===t},slotContent:function(t){return"1"===t.row.status?"activated":"2"===t.row.status?"deactivated":"missing"},tagType:function(t){return"1"===t.row.status?"success":"2"===t.row.status?"danger":"warning"},change:function(){this.$forceUpdate()},deleteInstructor:function(t){var e=this;this.$confirm("This operation will permanently delete the record, do you want to continue?","Notification",{confirmButtonText:"confirm",cancelButtonText:"cancel",type:"warning"}).then((function(){e.$axios({method:"delete",url:"api/professor/"+t}).then((function(t){e.$message.success(t.msg),e.getData()})).catch((function(t){console.log(t)}))})).catch((function(){e.$message({type:"info",message:"already canceled delete"})}))},cancelEdit:function(){this.editVisible=!1,this.getData()},cancelUpload:function(){this.uploadImgVisible=!1},openAddPage:function(){this.resetForm("addInstructor"),this.addInstructorVisible=!0},resetForm:function(t){var e=this;this.$nextTick((function(){e.$refs[t].resetFields()}))},cancelAdd:function(){this.addInstructorVisible=!1},addInstructor:function(){var t=this;this.$axios({method:"post",url:"/api/professor",data:this.editInstructor}).then((function(e){t.getData(),t.$message.success(e.msg)})).catch((function(e){t.$message.info(e)}))}}},n=i,o=(s("fd9e"),s("2877")),l=Object(o["a"])(n,a,r,!1,null,"161cac2c",null);e["default"]=l.exports},fd9e:function(t,e,s){"use strict";var a=s("956f"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-37618693.986998c9.js.map